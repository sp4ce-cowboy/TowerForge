//
//  InvulnerabilityPowerUp.swift
//  TowerForge
//
//  Created by Keith Gan on 31/3/24.
//

import Foundation

class InvulnerabilityPowerUp: EventTransformation {
    let DURATION = CGFloat(5)
    let id: UUID

    init() {
        self.id = UUID()
    }

    func transformEvent(event: TFEvent) -> TFEvent {
        guard let damageEvent = event as? DamageEvent, damageEvent.player == Player.oppositePlayer else {
            return event
        }

        return DisabledEvent(on: damageEvent.entityId, at: damageEvent.timestamp)
    }
}
